<div class="dashboard-container">
  <qtm-test-form />
  <div class="header-row">
    <div>
      <h1>Test Library Dashboard</h1>
      <span class="stat-pill">Total: {{ totalTests() }}</span>
      <span class="stat-pill">Passed: {{ passedTestsCount() }}</span>
    </div>
    <div class="search-container">
      <input
        type="text"
        placeholder="Search tests by title..."
        (input)="onSearch($event)"
        class="search-input"
      />
    </div>
    <div class="filter-group">
      <button
        [class.active]="currentFilter() === 'all'"
        (click)="applyFilter('all')"
      >
        All
      </button>
      <button
        [class.active]="currentFilter() === 'failed'"
        (click)="applyFilter('failed')"
      >
        Failed
      </button>
    </div>
  </div>

  <div class="list-container">
    @for (test of testCases(); track test.id) {
      <qtm-test-card
        [test]="test"
        (statusChange)="changeStatus(test.id, $event)"
        (delete)="onDelete(test.id, test.title)"
      />
    } @empty {
      <div class="empty-state">No tests found for this filter.</div>
    }
  </div>
</div>
